ä»¥ä¸‹æ˜¯é‡æ„åçš„å¯è§†åŒ–å·¥å…·åŒ…æ–‡æ¡£ï¼Œä»¥Markdownæ ¼å¼å‘ˆç°ï¼š

# ğŸ“Š æ•°æ®å¯è§†åŒ–å·¥å…·åŒ…é‡æ„æ–‡æ¡£

*åŸºäºpyechartsçš„ç°ä»£å­£èŠ‚æ€§åˆ†æå·¥å…·ï¼Œé›†æˆakshareæ•°æ®æ¥å£*

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

- **ğŸš€ akshareæ•°æ®é›†æˆ**ï¼šå†…ç½®akshareæ•°æ®æ¥å£ï¼Œæ— éœ€å‡†å¤‡æ•°æ®å³å¯è¿è¡Œ
- **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ¸…æ™°çš„ä»£ç æ¶æ„ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•
- **åŒæ—¥å†æ”¯æŒ**ï¼šå…¬å†å’Œå†œå†ï¼ˆæ˜¥èŠ‚å¯¹é½ï¼‰ä¸¤ç§å­£èŠ‚æ€§åˆ†ææ¨¡å¼
- **äº¤äº’å¼å›¾è¡¨**ï¼šåŸºäºpyechartsçš„å“åº”å¼HTMLå›¾è¡¨
- **æ‰¹é‡å¤„ç†**ï¼šæ”¯æŒå¤šæŒ‡æ ‡æ‰¹é‡ç”Ÿæˆå›¾è¡¨
- **æ™ºèƒ½ç»Ÿè®¡**ï¼šè‡ªåŠ¨è®¡ç®—åŒæ¯”ã€ç¯æ¯”å’Œç´¯è®¡åŒæ¯”
- **ä¸€é”®æ¼”ç¤º**ï¼šæä¾›å¿«é€Ÿæ¼”ç¤ºè„šæœ¬ï¼Œç›´æ¥ä½“éªŒæ‰€æœ‰åŠŸèƒ½

## ğŸ“ é¡¹ç›®ç»“æ„

```
visualization_toolkit/
â”œâ”€â”€ ğŸ“‹ __init__.py
â”œâ”€â”€ ğŸ”§ core/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ akshare_client.py     # akshareæ•°æ®æ¥å£
â”‚   â”œâ”€â”€ data_processor.py     # æ•°æ®å¤„ç†æ ¸å¿ƒ
â”‚   â”œâ”€â”€ calendar_manager.py   # å†œå†/å…¬å†å¤„ç†
â”‚   â””â”€â”€ wind_client.py        # Windæ•°æ®è·å–
â”œâ”€â”€ ğŸ“Š charts/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base_chart.py         # åŸºç¡€å›¾è¡¨ç±»
â”‚   â”œâ”€â”€ seasonal_chart.py     # å­£èŠ‚æ€§å›¾è¡¨(pyechartsç‰ˆ)
â”‚   â””â”€â”€ time_series_chart.py  # æ—¶é—´åºåˆ—å›¾è¡¨
â”œâ”€â”€ ğŸ› ï¸ utils/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ data_formatter.py     # æ•°æ®æ ¼å¼åŒ–
â”‚   â””â”€â”€ template_manager.py   # æ¨¡æ¿ç®¡ç†
â”œâ”€â”€ ğŸ“– examples/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ demo.py              # ä½¿ç”¨ç¤ºä¾‹
â””â”€â”€ ğŸš€ quick_demo.py         # akshareä¸€é”®æ¼”ç¤º
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
# åŸºç¡€å®‰è£…
pip install visualization-toolkit

# å®Œæ•´å®‰è£…ï¼ˆå«akshareæ•°æ®æ¥å£ï¼‰
pip install visualization-toolkit[akshare]

# å¼€å‘å®‰è£…
pip install -e .
```

### 2. é›¶æ•°æ®é—¨æ§›ä½“éªŒ

#### ä¸€é”®akshareæ¼”ç¤ºï¼ˆæ¨èï¼‰
```bash
# æ— éœ€å‡†å¤‡æ•°æ®ï¼Œç›´æ¥ä½“éªŒ
python quick_demo.py

# ç”Ÿæˆçš„æ–‡ä»¶ï¼š
# - akshare_seasonal_demo.html  å­£èŠ‚æ€§åˆ†æ
# - akshare_timeseries_demo.html  æ—¶é—´åºåˆ—åˆ†æ
```

#### ç¼–ç¨‹ä½¿ç”¨akshareæ•°æ®

```python
from core.akshare_client import AkShareClient
from charts.seasonal_chart import SeasonalChart

# è·å–ä»»æ„è‚¡ç¥¨æ•°æ®ï¼ˆæ— éœ€å‡†å¤‡ï¼‰
df = AkShareClient.get_stock_daily("000001", "20230101", "20231231")

# ç«‹å³åˆ›å»ºå›¾è¡¨
chart = SeasonalChart()
seasonal_line = chart.create_seasonal_line(
    df,
    date_col='date',
    value_col='close',
    title="å¹³å®‰é“¶è¡Œè‚¡ä»·å­£èŠ‚æ€§åˆ†æ",
    calendar_type='lunar'  # å†œå†æ˜¥èŠ‚å¯¹é½
)
seasonal_line.render("seasonal_analysis.html")
```

#### ä½¿ç”¨æœ¬åœ°æ•°æ®ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰

```python
from charts.seasonal_chart import SeasonalChart
import pandas as pd

# è¯»å–æœ¬åœ°æ•°æ®
df = pd.read_csv('your_data.csv')

# åˆ›å»ºå­£èŠ‚æ€§å›¾è¡¨
chart = SeasonalChart()
seasonal_line = chart.create_seasonal_line(
    df,
    date_col='date',
    value_col='price',
    title="é“çŸ¿çŸ³ä»·æ ¼å­£èŠ‚æ€§åˆ†æ",
    calendar_type='lunar'  # å†œå†æ˜¥èŠ‚å¯¹é½
)

# ä¿å­˜ä¸ºäº¤äº’å¼HTML
seasonal_line.render("seasonal_analysis.html")
```

## ğŸ“ˆ æ ¸å¿ƒåŠŸèƒ½è¯¦è§£

### å­£èŠ‚æ€§æŠ˜çº¿å›¾

#### å…¬å†æ¨¡å¼ï¼ˆæŒ‰æœˆä»½ï¼‰

```python
chart = SeasonalChart()
line = chart.create_seasonal_line(
    df,
    date_col='date',
    value_col='value',
    title="æœˆåº¦åº“å­˜å­£èŠ‚æ€§åˆ†æ",
    calendar_type='gregorian',
    years=5  # æ˜¾ç¤ºæœ€è¿‘5å¹´
)
```

#### å†œå†æ¨¡å¼ï¼ˆæ˜¥èŠ‚å¯¹é½ï¼‰

```python
chart = SeasonalChart()
line = chart.create_seasonal_line(
    df,
    date_col='date',
    value_col='inventory',
    title="æ˜¥èŠ‚å‰ååº“å­˜å˜åŒ–",
    calendar_type='lunar',
    spring_range=(-60, 60)  # æ˜¥èŠ‚å‰å60å¤©
)
```

### å¤šæŒ‡æ ‡æ‰¹é‡ç”Ÿæˆ

```python
# åŒæ—¶åˆ†æå¤šä¸ªæŒ‡æ ‡
chart = SeasonalChart()
grid = chart.create_seasonal_grid(
    df,
    date_col='date',
    value_cols=['äº§é‡', 'åº“å­˜', 'ä»·æ ¼', 'éœ€æ±‚'],
    title="é»‘è‰²äº§ä¸šé“¾å­£èŠ‚æ€§å¯¹æ¯”",
    years=4
)
grid.render("multi_indicator_analysis.html")
```

## ğŸ“Š å›¾è¡¨æ•ˆæœå±•ç¤º

### 1. å•æŒ‡æ ‡å­£èŠ‚æ€§å›¾

- é«˜äº®æœ€æ–°å¹´ä»½æ•°æ®
- è‡ªåŠ¨è®¡ç®—åŒæ¯”/ç¯æ¯”
- äº¤äº’å¼å›¾ä¾‹å’Œç¼©æ”¾

### 2. å¤šæŒ‡æ ‡å¯¹æ¯”å›¾

- ç½‘æ ¼å¸ƒå±€å±•ç¤º
- ç»Ÿä¸€é…è‰²æ–¹æ¡ˆ
- å“åº”å¼è®¾è®¡

### 3. æ˜¥èŠ‚å¯¹é½æ¨¡å¼

- ä»¥æ˜¥èŠ‚ä¸ºåŸºå‡†ç‚¹
- æ”¯æŒè‡ªå®šä¹‰æ—¶é—´èŒƒå›´
- é€‚ç”¨äºä¸­å›½ç‰¹æœ‰çš„å­£èŠ‚æ€§åˆ†æ

[ğŸ“¥ ä¸‹è½½å®Œæ•´ç¤ºä¾‹ä»£ç ](examples/demo.py)

## ğŸ¨ é«˜çº§é…ç½®

### è‡ªå®šä¹‰æ ·å¼

```python
chart = SeasonalChart()
line = chart.create_seasonal_line(
    df,
    date_col='date',
    value_col='price',
    title="è‡ªå®šä¹‰æ ·å¼ç¤ºä¾‹",
    width="1200px",
    height="600px",
    colors=['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FECA57']
)
```

### åŠ¨æ€æ•°æ®æ›´æ–°

```python
# å®æ—¶æ•°æ®æ›´æ–°ç¤ºä¾‹
def update_seasonal_chart(new_data):
    chart = SeasonalChart()
    updated_line = chart.create_seasonal_line(
        new_data,
        date_col='date',
        value_col='price'
    )
    updated_line.render("live_seasonal.html")
```

## ğŸ“Š akshareæ•°æ®æ”¯æŒ

### æ”¯æŒçš„æ•°æ®ç±»å‹

| æ•°æ®ç±»å‹ | ç¤ºä¾‹ä»£ç  | è¯´æ˜ |
| -------- | -------- | ---- |
| **è‚¡ç¥¨** | `000001`, `600000` | Aè‚¡è‚¡ç¥¨æ—¥çº¿æ•°æ® |
| **æŒ‡æ•°** | `sh000001`, `sz399001` | ä¸»è¦æŒ‡æ•°æ•°æ® |
| **æœŸè´§** | `CU0`, `AL0` | æœŸè´§ä¸»åŠ›åˆçº¦æ•°æ® |
| **ç»æµæŒ‡æ ‡** | `CPI`, `PPI` | å®è§‚ç»æµæ•°æ® |

### å¿«é€Ÿè·å–æ•°æ®

```python
from core.akshare_client import AkShareClient

# è·å–è‚¡ç¥¨æ•°æ®
df = AkShareClient.get_stock_daily("000001", "20230101", "20231231")

# è·å–æŒ‡æ•°æ•°æ®
df = AkShareClient.get_index_daily("sh000001", "20230101", "20231231")

# è·å–æ¼”ç¤ºæ•°æ®ï¼ˆæœ€è¿‘365å¤©ï¼‰
df = AkShareClient.get_demo_data("stock", 365)

# æŸ¥çœ‹å¯ç”¨è‚¡ç¥¨ä»£ç 
symbols = AkShareClient.list_available_symbols("stock")
```

### ä¸€é”®æ¼”ç¤º

```bash
# è¿è¡Œå®Œæ•´çš„akshareæ•°æ®æ¼”ç¤º
python quick_demo.py

# æŸ¥çœ‹å¯ç”¨æ•°æ®æº
python quick_demo.py list
```

## ğŸ“– APIå‚è€ƒ

### AkShareClientç±»

#### ä¸»è¦æ–¹æ³•

| æ–¹æ³• | å‚æ•° | è¯´æ˜ |
| ---- | ---- | ---- |
| `get_stock_daily` | symbol, start_date, end_date | è·å–è‚¡ç¥¨æ—¥çº¿æ•°æ® |
| `get_index_daily` | symbol, start_date, end_date | è·å–æŒ‡æ•°æ—¥çº¿æ•°æ® |
| `get_demo_data` | data_type, days | è·å–æ¼”ç¤ºæ•°æ® |
| `list_available_symbols` | data_type | åˆ—å‡ºå¯ç”¨ä»£ç  |

#### æ•°æ®æ ¼å¼

æ‰€æœ‰æ–¹æ³•è¿”å›çš„DataFrameæ ¼å¼ç»Ÿä¸€ï¼š
- **è‚¡ç¥¨/æŒ‡æ•°/æœŸè´§**: `date`, `open`, `high`, `low`, `close`, `volume`
- **ç»æµæŒ‡æ ‡**: `date`, `value`

### SeasonalChartç±»

#### ä¸»è¦æ–¹æ³•

| æ–¹æ³•                     | å‚æ•°                           | è¯´æ˜             |
| ------------------------ | ------------------------------ | ---------------- |
| `create_seasonal_line` | df, date_col, value_col, title | åˆ›å»ºå­£èŠ‚æ€§æŠ˜çº¿å›¾ |
| `create_seasonal_grid` | df, date_cols, value_cols      | åˆ›å»ºå¤šæŒ‡æ ‡ç½‘æ ¼å›¾ |

#### å…³é”®å‚æ•°

| å‚æ•°              | ç±»å‹  | é»˜è®¤å€¼      | è¯´æ˜                           |
| ----------------- | ----- | ----------- | ------------------------------ |
| `calendar_type` | str   | 'gregorian' | æ—¥å†ç±»å‹ ('gregorian'/'lunar') |
| `spring_range`  | tuple | (-70, 70)   | å†œå†åˆ†ææ—¶é—´èŒƒå›´               |
| `years`         | int   | 5           | æ˜¾ç¤ºå¹´ä»½æ•°é‡                   |
| `width`         | str   | "100%"      | å›¾è¡¨å®½åº¦                       |
| `height`        | str   | "500px"     | å›¾è¡¨é«˜åº¦                       |

## ğŸ”§ æ•°æ®å¤„ç†å·¥å…·

### æ•°æ®é¢„å¤„ç†å™¨

```python
from visualization_toolkit.core.data_processor import DataProcessor

processor = DataProcessor()

# è®¡ç®—ç»Ÿè®¡æŒ‡æ ‡
stats = processor.calculate_yoy_ytd(df, 'price', 'date')
print(f"æœ€æ–°å€¼: {stats['latest_value']}")
print(f"åŒæ¯”: {stats['yoy']:.2f}%")
print(f"ç´¯è®¡åŒæ¯”: {stats['ytd']:.2f}%")

# å‡†å¤‡é€è§†è¡¨
pivot = processor.pivot_for_seasonal(df, 'date', 'value')
```

## ğŸ“± éƒ¨ç½²å’Œä½¿ç”¨

### 1. ç”Ÿæˆäº¤äº’å¼ç½‘é¡µ

```python
# åˆ›å»ºå®Œæ•´çš„åˆ†ææŠ¥å‘Š
page = Page()
chart = SeasonalChart()

for metric in ['åº“å­˜', 'äº§é‡', 'ä»·æ ¼']:
    line = chart.create_seasonal_line(
        df,
        date_col='date',
        value_col=metric,
        title=f"{metric}å­£èŠ‚æ€§åˆ†æ"
    )
    page.add(line)

page.render("analysis_report.html")
```

### 2. é›†æˆåˆ°Webåº”ç”¨

```python
from flask import Flask, render_template_string

app = Flask(__name__)

@app.route('/seasonal/<metric>')
def seasonal_analysis(metric):
    chart = SeasonalChart()
    line = chart.create_seasonal_line(
        df,
        date_col='date',
        value_col=metric
    )
    return line.dump_options_with_quotes()
```

## ğŸ¯ æœ€ä½³å®è·µ

### 1. æ•°æ®å‡†å¤‡å»ºè®®

- ç¡®ä¿æ—¥æœŸåˆ—æ ¼å¼ä¸ºdatetime
- å¤„ç†ç¼ºå¤±å€¼å’Œå¼‚å¸¸å€¼
- æŒ‰æ—¶é—´å‡åºæ’åˆ—æ•°æ®

### 2. å›¾è¡¨ä¼˜åŒ–

- æ ¹æ®æ•°æ®ç‰¹ç‚¹é€‰æ‹©æ—¥å†ç±»å‹
- åˆç†è®¾ç½®æ˜¾ç¤ºå¹´ä»½æ•°é‡
- ä½¿ç”¨æœ‰æ„ä¹‰çš„æ ‡é¢˜å’Œå‰¯æ ‡é¢˜

### 3. æ€§èƒ½ä¼˜åŒ–

- å¤§æ•°æ®é›†ä½¿ç”¨é‡‡æ ·å¤„ç†
- ç¼“å­˜ç”Ÿæˆçš„å›¾è¡¨
- ä½¿ç”¨CDNåŠ é€Ÿèµ„æºåŠ è½½

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•å¤„ç†ç¼ºå¤±æ•°æ®ï¼Ÿ

A: ç³»ç»Ÿä¼šè‡ªåŠ¨è¿›è¡Œçº¿æ€§æ’å€¼å¤„ç†ï¼Œä½†å»ºè®®å…ˆè¿›è¡Œæ•°æ®æ¸…æ´—ã€‚

### Q: æ”¯æŒå“ªäº›æ—¥æœŸæ ¼å¼ï¼Ÿ

A: æ”¯æŒæ‰€æœ‰pandaså¯è¯†åˆ«çš„æ—¥æœŸæ ¼å¼ï¼Œæ¨èä½¿ç”¨ISOæ ¼å¼(YYYY-MM-DD)ã€‚

### Q: å¦‚ä½•è‡ªå®šä¹‰é¢œè‰²ï¼Ÿ

A: é€šè¿‡colorså‚æ•°ä¼ å…¥é¢œè‰²åˆ—è¡¨ï¼Œæˆ–ä½¿ç”¨é»˜è®¤é…è‰²æ–¹æ¡ˆã€‚

## ğŸ“– æ€»ç»“

æœ¬å·¥å…·åŒ…æä¾›äº†**é›¶æ•°æ®é—¨æ§›**çš„å­£èŠ‚æ€§åˆ†æè§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡é›†æˆakshareæ•°æ®æ¥å£ï¼Œç”¨æˆ·æ— éœ€å‡†å¤‡ä»»ä½•æ•°æ®å³å¯ä½“éªŒå®Œæ•´çš„å¯è§†åŒ–åˆ†æåŠŸèƒ½ã€‚

### ğŸš€ æ ¸å¿ƒä¼˜åŠ¿
- **é›¶æ•°æ®é—¨æ§›**ï¼šå†…ç½®akshareæ¥å£ï¼Œæ— éœ€å‡†å¤‡æ•°æ®
- **ä¸€é”®ä½“éªŒ**ï¼š`python quick_demo.py` ç›´æ¥è¿è¡Œ
- **çœŸå®æ•°æ®**ï¼šä½¿ç”¨Aè‚¡ã€æŒ‡æ•°ç­‰çœŸå®é‡‘èæ•°æ®
- **å³è£…å³ç”¨**ï¼špipå®‰è£…åç«‹å³ä½¿ç”¨

### ğŸ“Š é€‚ç”¨åœºæ™¯
- ğŸ“ˆ **é‡‘èå¸‚åœºåˆ†æ**ï¼šè‚¡ç¥¨ã€æœŸè´§ã€å•†å“ä»·æ ¼å­£èŠ‚æ€§ç ”ç©¶
- ğŸ“Š **ä¼ä¸šæ•°æ®åˆ†æ**ï¼šé”€å”®ã€åº“å­˜ã€ç”Ÿäº§æ•°æ®å­£èŠ‚æ€§åˆ†æ
- ğŸ“‰ **å®è§‚ç»æµç ”ç©¶**ï¼šGDPã€CPIã€PPIç­‰ç»æµæŒ‡æ ‡åˆ†æ

### ğŸ¯ å¿«é€Ÿå¼€å§‹
```bash
# å®‰è£…
pip install visualization-toolkit

# ç«‹å³ä½“éªŒï¼ˆæ— éœ€æ•°æ®å‡†å¤‡ï¼‰
python quick_demo.py

# æŸ¥çœ‹å¯ç”¨æ•°æ®æº
python quick_demo.py list
```

### ğŸ’¡ å¼€å‘å‹å¥½
- **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ˜“äºæ‰©å±•å’Œå®šåˆ¶
- **å®Œæ•´æ–‡æ¡£**ï¼šè¯¦ç»†APIå’Œä½¿ç”¨ç¤ºä¾‹
- **ç¤¾åŒºæ”¯æŒ**ï¼šæ¬¢è¿è´¡çŒ®ä»£ç å’Œæƒ³æ³•

---

**ç«‹å³ä½“éªŒ**ï¼š`pip install visualization-toolkit && python quick_demo.py`

<div align="center">


</div>

<script>
// æ·»åŠ ä¸‹è½½åŠŸèƒ½
function downloadFile(filename, content) {
    const element = document.createElement('a');
    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(content));
    element.setAttribute('download', filename);
    element.style.display = 'none';
    document.body.appendChild(element);
    element.click();
    document.body.removeChild(element);
}


